var TWEEN=TWEEN||function(){var a=[];this.time=(new Date).getTime();this.rate=1E3/60;this.ease={};this.add=function(c){a.push(c)};this.remove=function(c){for(var d=a.length;d--;)if(c===a[d]){a.splice(d,1);return true}return false};this.update=function(){this.time+=this.rate;for(var c=0,d=a.length;c<d;)a[c].update(this.time)?++c:a.splice(c,1)};return this}(); TWEEN.Tween=function(a){TWEEN.add(this);var c={},d={},i={},m=1E3,n=0,g=null,o=TWEEN.ease.ElasticEaseInOut,h=null,j=null,k=null,l=false;this.to=function(b,f){m=f;for(var e in b)if(e in a)i[e]=b[e];return this};this.start=function(){l=false;g=TWEEN.time+n;for(var b in i)if(b in a){c[b]=a[b];d[b]=i[b]-a[b]}return this};this.delay=function(b){n=b;return this};this.easing=function(b){o=b;return this};this.next=function(b){h=b};this.onUpdate=function(b){j=b;return this};this.onComplete=function(b){k=b; return this};this.update=function(b){var f,e;if(g===null||b<g)return true;if(l)return h===null;if(1<(b=(b-g)/m))b=1;e=o(b);for(f in d)a[f]=c[f]+d[f]*e;j!==null&&j.call(a,e);if(b===1){l=true;g=null;null!==k&&k.call(a);if(null!==h){h.start();return true}else return false}return true};this.destroy=function(){TWEEN.remove(this)}};TWEEN.ease.LinearEaseNone=function(a){return a};TWEEN.ease.QuadraticEaseIn=function(a){return a*a};TWEEN.ease.QuadraticEaseOut=function(a){return-a*(a-2)}; TWEEN.ease.QuadraticEaseInOut=function(a){if((a*=2)<1)return 0.5*a*a;return-0.5*(--a*(a-2)-1)};TWEEN.ease.CubicEaseIn=function(a){return a*a*a};TWEEN.ease.CubicEaseOut=function(a){return 1+--a*a*a};TWEEN.ease.CubicEaseInOut=function(a){if((a*=2)<1)return 0.5*a*a*a;return 0.5*((a-=2)*a*a+2)};TWEEN.ease.QuarticEaseIn=function(a){return a*a*a*a};TWEEN.ease.QuarticEaseOut=function(a){return-(--a*a*a*a-1)}; TWEEN.ease.QuarticEaseInOut=function(a){if((a*=2)<1)return 0.5*a*a*a*a;return-0.5*((a-=2)*a*a*a-2)};TWEEN.ease.QuinticEaseIn=function(a){return a*a*a*a*a};TWEEN.ease.QuinticEaseOut=function(a){return--a*a*a*a*a+1};TWEEN.ease.QuinticEaseInOut=function(a){if((a*=2)<1)return 0.5*a*a*a*a*a;return 0.5*((a-=2)*a*a*a*a+2)};TWEEN.ease.SinusoidalEaseIn=function(a){return 1-Math.cos(a*Math.PI/2)};TWEEN.ease.SinusoidalEaseOut=function(a){return Math.sin(a*Math.PI/2)}; TWEEN.ease.SinusoidalEaseInOut=function(a){return 0.5-0.5*Math.cos(Math.PI*a)};TWEEN.ease.ExponentialEaseIn=function(a){return a!==0?Math.pow(1024,a-1):0};TWEEN.ease.ExponentialEaseOut=function(a){return a!==1?1-Math.pow(1024,-a):1};TWEEN.ease.ExponentialEaseInOut=function(a){if(a===0)return 0;if(a===1)return 1;if((a*=2)<1)return 0.5*Math.pow(1024,a-1);return 1-512*Math.pow(1024,-a)};TWEEN.ease.CircularEaseIn=function(a){return 1-Math.sqrt(1-a*a)}; TWEEN.ease.CircularEaseOut=function(a){return Math.sqrt(1- --a*a)};TWEEN.ease.CircularEaseInOut=function(a){if((a*=2)<1)return 0.5-0.5*Math.sqrt(1-a*a);return 0.5+0.5*Math.sqrt(1-(a-=2)*a)};TWEEN.ease.ElasticEaseIn=function(a){if(a===0)return 0;if(a===1)return 1;return-(Math.pow(1024,--a)*Math.sin((a-0.1)*15.7079633))};TWEEN.ease.ElasticEaseOut=function(a){if(a===0)return 0;if(a===1)return 1;return 1+Math.pow(1024,-a)*Math.sin((a-0.1)*15.7079633)}; TWEEN.ease.ElasticEaseInOut=function(a){if(a===0)return 0;if(a===1)return 1;if((a*=2)<1)return-Math.pow(1024,--a)*0.5*Math.sin((a-0.1)*15.7079633);return 1+Math.pow(1024,- --a)*0.5*Math.sin((a-0.1)*15.7079633)};TWEEN.ease.BackEaseIn=function(a){return a*a*(2.70158*a-1.70158)};TWEEN.ease.BackEaseOut=function(a){return 1+--a*a*(2.70158*a+1.70158)};TWEEN.ease.BackEaseInOut=function(a){if((a*=2)<1)return 0.5*a*a*(3.5949095*a-2.5949095);return 0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}; TWEEN.ease.BounceEaseIn=function(a){return 1-TWEEN.ease.BounceEaseOut(1-a)};TWEEN.ease.BounceEaseOut=function(a){return a<4/11?7.5625*a*a:a<8/11?0.75+7.5625*(a-=6/11)*a:a<10/11?0.9375+7.5625*(a-=9/11)*a:0.984375+7.5625*(a-=21/22)*a};TWEEN.ease.BounceEaseInOut=function(a){if(a<0.5)return TWEEN.ease.BounceEaseIn(a*2)*0.5;return TWEEN.ease.BounceEaseOut(a*2-1)*0.5+0.5};