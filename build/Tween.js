var TWEEN_MANAGER=TWEEN_MANAGER||(function(){var a,c,b=[];this.add=function(d){b.push(d)};this.remove=function(f){for(var e=0,d=b.length;e<d;e++){if(f==b[e]){b.splice(e,1);return}}};this.update=function(){a=0;c=new Date().getTime();while(a<b.length){b[a].update(c)?a++:b.splice(a,1)}};return this})(),TWEEN=TWEEN||{};TWEEN.Tween=function(c){TWEEN_MANAGER.add(this);var k=c,j={},f={},g={},e=1000,i=0,a=null,l=TWEEN.Easing.Elastic.EaseInOut,b=null,m=null,h=null,d=false;this.to=function(p,n){e=p*1000;for(var o in n){if(k[o]===null){continue}g[o]=n[o]}return this};this.start=function(){d=false;a=new Date().getTime()+i;for(var n in g){if(k[n]===null){continue}j[n]=k[n];f[n]=g[n]-k[n]}return this};this.delay=function(n){i=n*1000;return this};this.easing=function(n){l=n;return this};this.chain=function(n){b=n};this.onUpdate=function(n){m=n;return this};this.onComplete=function(n){h=n;return this};this.update=function(q){var p,n,o;if(q<a||a===null){return true}if(d){return(b===null)}n=(q-a)/e;n=n>1?1:n;o=l(n);for(p in f){k[p]=j[p]+f[p]*o}if(m!==null){m.call(k)}if(n==1){d=true;a=null;if(h!==null){h()}if(b!==null){b.start();return true}else{return false}}return true};this.destroy=function(){TWEEN_MANAGER.remove(this)}};TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};TWEEN.Easing.Linear.EaseNone=function(a){return a};TWEEN.Easing.Quadratic.EaseIn=function(a){return a*a};TWEEN.Easing.Quadratic.EaseOut=function(a){return -a*(a-2)};TWEEN.Easing.Quadratic.EaseInOut=function(a){if((a*=2)<1){return 0.5*a*a}return -0.5*(--a*(a-2)-1)};TWEEN.Easing.Cubic.EaseIn=function(a){return a*a*a};TWEEN.Easing.Cubic.EaseOut=function(a){return --a*a*a+1};TWEEN.Easing.Cubic.EaseInOut=function(a){if((a*=2)<1){return 0.5*a*a*a}return 0.5*((a-=2)*a*a+2)};TWEEN.Easing.Quartic.EaseIn=function(a){return a*a*a*a};TWEEN.Easing.Quartic.EaseOut=function(a){return -(--a*a*a*a-1)};TWEEN.Easing.Quartic.EaseInOut=function(a){if((a*=2)<1){return 0.5*a*a*a*a}return -0.5*((a-=2)*a*a*a-2)};TWEEN.Easing.Quintic.EaseIn=function(a){return a*a*a*a*a};TWEEN.Easing.Quintic.EaseOut=function(a){return(a=a-1)*a*a*a*a+1};TWEEN.Easing.Quintic.EaseInOut=function(a){if((a*=2)<1){return 0.5*a*a*a*a*a}return 0.5*((a-=2)*a*a*a*a+2)};TWEEN.Easing.Sinusoidal.EaseIn=function(a){return -Math.cos(a*Math.PI/2)+1};TWEEN.Easing.Sinusoidal.EaseOut=function(a){return Math.sin(a*Math.PI/2)};TWEEN.Easing.Sinusoidal.EaseInOut=function(a){return -0.5*(Math.cos(Math.PI*a)-1)};TWEEN.Easing.Exponential.EaseIn=function(a){return a==0?0:Math.pow(2,10*(a-1))};TWEEN.Easing.Exponential.EaseOut=function(a){return a==1?1:-Math.pow(2,-10*a)+1};TWEEN.Easing.Exponential.EaseInOut=function(a){if(a==0){return 0}if(a==1){return 1}if((a*=2)<1){return 0.5*Math.pow(2,10*(a-1))}return 0.5*(-Math.pow(2,-10*(a-1))+2)};TWEEN.Easing.Circular.EaseIn=function(a){return -(Math.sqrt(1-a*a)-1)};TWEEN.Easing.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};TWEEN.Easing.Circular.EaseInOut=function(a){if((a/=0.5)<1){return -0.5*(Math.sqrt(1-a*a)-1)}return 0.5*(Math.sqrt(1-(a-=2)*a)+1)};TWEEN.Easing.Elastic.EaseIn=function(c){var d,b=0.1,e=0.4;if(c==0){return 0}if(c==1){return 1}if(!e){e=0.3}if(!b||b<1){b=1;d=e/4}else{d=e/(2*Math.PI)*Math.asin(1/b)}return -(b*Math.pow(2,10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e))};TWEEN.Easing.Elastic.EaseOut=function(c){var d,b=0.1,e=0.4;if(c==0){return 0}if(c==1){return 1}if(!e){e=0.3}if(!b||b<1){b=1;d=e/4}else{d=e/(2*Math.PI)*Math.asin(1/b)}return(b*Math.pow(2,-10*c)*Math.sin((c-d)*(2*Math.PI)/e)+1)};TWEEN.Easing.Elastic.EaseInOut=function(c){var d,b=0.1,e=0.4;if(c==0){return 0}if(c==1){return 1}if(!e){e=0.3}if(!b||b<1){b=1;d=e/4}else{d=e/(2*Math.PI)*Math.asin(1/b)}if((c*=2)<1){return -0.5*(b*Math.pow(2,10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e))}return b*Math.pow(2,-10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e)*0.5+1};TWEEN.Easing.Back.EaseIn=function(a){var b=1.70158;return a*a*((b+1)*a-b)};TWEEN.Easing.Back.EaseOut=function(a){var b=1.70158;return(a=a-1)*a*((b+1)*a+b)+1};TWEEN.Easing.Back.EaseInOut=function(a){var b=1.70158*1.525;if((a*=2)<1){return 0.5*(a*a*((b+1)*a-b))}return 0.5*((a-=2)*a*((b+1)*a+b)+2)};TWEEN.Easing.Bounce.EaseIn=function(a){return 1-TWEEN.Easing.Bounce.EaseOut(1-a)};TWEEN.Easing.Bounce.EaseOut=function(a){if((a/=1)<(1/2.75)){return 7.5625*a*a}else{if(a<(2/2.75)){return 7.5625*(a-=(1.5/2.75))*a+0.75}else{if(a<(2.5/2.75)){return 7.5625*(a-=(2.25/2.75))*a+0.9375}else{return 7.5625*(a-=(2.625/2.75))*a+0.984375}}}};TWEEN.Easing.Bounce.EaseInOut=function(a){if(a<0.5){return TWEEN.Easing.Bounce.EaseIn(a*2)*0.5}return TWEEN.Easing.Bounce.EaseOut(a*2-1)*0.5+0.5};